import socket
import pyautogui

HOST = "0.0.0.0"   # Lytt p책 alle nettverksgrensesnitt
PORT = 5000        # M책 matche porten i senderkoden p책 Pi

print(" starter mottaker, venter p책 PI")

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.bind((HOST, PORT))
s.listen(1)

conn, addr = s.accept()
print(f" Tilkoblet {addr}")


while True:
    data = conn.recv(1024).decode()
    if not data:
        break

    try:
        x_str, y_str = data.strip().split(',')
        x, y = int(x_str), int(y_str)
        pyautogui.moveTo(x, y)
        print(f"Flytter musen til: ({x}, {y})")
    except Exception as e:
        print("Feil i data:", data, e)

conn.close()
print("forbindelse brutt")
